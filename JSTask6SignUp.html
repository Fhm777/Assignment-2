<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" rel="stylesheet" type="text/css">
    <style>
        .or {
            display: grid;
            grid-template-columns: 45% 10% 45%;
            align-items: center;
            margin: 0;
        }
        .or::after, .or::before {
            content: "";
            height: 1px;
            background-color: dimgray;
            display: block;
        }
        .or::after {
            margin-right: 20%;
        }
        .or::before {
            margin-left: 20%;
        }
    </style>
    <title>Document</title>
</head>
<body>
    <center>
        <div class="card mb-3 mt-5 mt-5" style="width: 400px;">
            <div class="card-title mt-3">
                <h1 style="font-style: italic;">Instagram</h1>
            </div>
            <div class="card-body text-secondary px-5">
                Sign up to see photos and videos from your friends.
            </div>
            <div class="card-body fw-bold text-secondary pt-0">
                <span class="or">OR</span>
            </div>
            <a class="btn btn-primary card-body py-2 mx-5 text-light"><i class="fa-brands fa-facebook"></i> Log in with Facebook</a>
            <form class="form card-body px-5 needs-validation" onsubmit="return validation()">
                    <div class="input-group mb-3">
                        <input id="a" type="text" placeholder="Mobile Number or Email" class="form-control rounded-1" >
                        <div class="invalid-feedback">Enter a valid Mobile Number or Email</div>
                    </div>
                    <div class="input-group mb-3">
                        <input id="b" type="text" placeholder="Full Name" class="form-control rounded-1" >
                        <div class="invalid-feedback">Enter your Full Name</div>
                    </div>
                    <div class="input-group mb-3">
                        <input id="c" type="text" placeholder="Username" class="form-control rounded-1" >
                        <div class="invalid-feedback">Enter a valid Username</div>
                    </div>
                    <div class="input-group mb-3">
                        <input id="d" type="password" placeholder="Password" class="form-control rounded-1" >
                        <div class="invalid-feedback">Enter a strong enough Password</div>
                    </div>
                    <button type="submit" class="btn-primary btn w-100 mb-3">Sign up</button>
            </form>
        </div>
        <div style="font-size: 14px;">Have an account? <a href="JSTask6.html" style="text-decoration: none;">Log in</a></div>
    </center>
    <script>
        function validEmail(x) {
            return /^[a-z0-9]+@[a-z]+\.[a-z]+$/.test(x);
        }

        function validpw(x) {
            return /[A-Z]/.test(x) && /[a-z]/.test(x) && /[0-9]/.test(x) && /[`!@#$%^&*()_\-+=\[\]{};':"\\|,.<>\/?~ ]/.test(x);
        }

        function validun(x) {
            if (x.length == 0)
                return false;
            return !(/[ ]/.test(x));
        }

        function validnum(x) {
            return /^[0-9]{10}$/.test(x)
        }

        function validname(x) {
            return /[A-Za-z ]/.test(x)
        }

        function validation() {
            a = document.getElementById('a').value
            b = document.getElementById('b').value
            c = document.getElementById('c').value
            d = document.getElementById('d').value
            
            return ((validEmail(a) || validnum(a)) && validname(b) && validun(c) && validpw(d));
        }

        (() => {
            'use strict'
            const forms = document.querySelectorAll('.needs-validation')
            const input = document.querySelectorAll('.form-control')
            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    input.forEach(elem => {
                        let x = elem.value
                        console.log(x)
                        if ((elem.id=="a" && (validEmail(x) || validnum(x))) || (elem.id=="b" && validname(x)) || (elem.id=="c" && validun(x)) || (elem.id=="d" && validpw(x))) {
                            elem.classList.remove("is-invalid")
                            elem.classList.add("is-valid")
                        }
                        else {
                            elem.classList.remove("is-valid")
                            elem.classList.add("is-invalid")
                        }
                    })
                }, false)
            })
        })()
    </script>
</body>
</html>